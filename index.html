<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Chromatic Sweep</title>
    <style>
        body { font-family: sans-serif; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Chromatic Sweep</h1>
    <button id="play-sweep">Play Chromatic Sweep</button>

    <script>
        const noteFiles = {
            "C4": "Assets/C4.wav",
            "C#4": "Assets/C#4.wav",
            "D4": "Assets/D4.wav",
            "D#4": "Assets/D#4.wav",
            "E4": "Assets/E4.wav",
            "F4": "Assets/F4.wav",
            "F#4": "Assets/F#4.wav",
            "G4": "Assets/G4.wav",
            "G#4": "Assets/G#4.wav",
            "A4": "Assets/A4.wav",
            "A#4": "Assets/A#4.wav",
            "B4": "Assets/B4.wav",
            "C5": "Assets/C5.wav",
            "C#5": "Assets/C#5.wav",
            "D5": "Assets/D5.wav",
            "D#5": "Assets/D#5.wav",
            "E5": "Assets/E5.wav",
            "F5": "Assets/F5.wav",
            "F#5": "Assets/F#5.wav",
            "G5": "Assets/G5.wav",
            "G#5": "Assets/G#5.wav",
            "A5": "Assets/A5.wav",
            "A#5": "Assets/A#5.wav",
            "B5": "Assets/B5.wav"
        };

        const audioCache = {};

        function preloadNotes() {
            for (const note in noteFiles) {
                audioCache[note] = new Audio(noteFiles[note]);
            }
        }

        function playNote(note) {
            return new Promise(resolve => {
                if (audioCache[note]) {
                    const audio = audioCache[note].cloneNode();
                    audio.onended = resolve;
                    audio.play();
                } else {
                    console.error(`Audio file for ${note} not preloaded.`);
                    resolve();
                }
            });
        }

        async function playChromaticSweep(delayMs = 100) { // Delay in milliseconds between notes
            const allNotes = Object.keys(noteFiles);
            for (let i = 0; i < allNotes.length; i++) {
                await playNote(allNotes[i]);
                if (i < allNotes.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, delayMs));
                }
            }
        }

        window.onload = preloadNotes;

        document.getElementById("play-sweep").addEventListener("click", () => playChromaticSweep(80)); // Adjust the delay here for the speed of the sweep
    </script>
</body>
</html>
